{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","service/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","e","target","PersonForm","newName","newNumber","setNewName","setNewNumber","handleSubmit","onSubmit","type","Person","persons","handleDelete","map","person","name","phone","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","res","Notification","notification","message","className","App","useState","setPersons","errorMessage","setErrorMessage","useEffect","service","display","toLowerCase","includes","setMessage","setTimeout","preventDefault","i","window","confirm","catch","error","length","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc9e1f4a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, setFilter }) => {\n    return (\n        <div>\n            filter shown with:\n            <input value={filter} onChange={(e) => setFilter(e.target.value)} />\n        </div>\n    );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n    newName,\n    newNumber,\n    setNewName,\n    setNewNumber,\n    handleSubmit,\n}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name:\n                <input\n                    value={newName}\n                    onChange={(e) => setNewName(e.target.value)}\n                />\n            </div>\n            <div>\n                number:\n                <input\n                    value={newNumber}\n                    onChange={(e) => setNewNumber(e.target.value)}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ persons, handleDelete }) => {\n    return (\n        <>\n            {persons.map((person) => (\n                <p key={person.name}>\n                    {person.name} {person.phone}{' '}\n                    <button onClick={() => handleDelete(person.id)}>\n                        delete\n                    </button>\n                </p>\n            ))}\n        </>\n    );\n};\n\nexport default Person;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then((res) => res.data);\n};\nexport default {\n    getAll,\n    create,\n    update,\n    remove,\n};\n","import React from 'react';\nimport './index.css';\nconst Notification = ({ notification }) => {\n    const { message, type } = notification;\n    if (message === null) {\n        return null;\n    }\n    return <div className={type}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport service from './service/persons';\nimport Notification from './components/Notification';\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filter, setFilter] = useState('');\n    const [errorMessage, setErrorMessage] = useState({\n        message: null,\n        type: 'success',\n    });\n    useEffect(() => {\n        service.getAll().then((res) => setPersons(res));\n    }, []);\n\n    const display = filter\n        ? persons.filter((person) =>\n              person.name.toLowerCase().includes(filter.toLowerCase())\n          )\n        : persons;\n\n    const setMessage = ({ message, type }) => {\n        setErrorMessage({ message, type });\n        setTimeout(() => {\n            setErrorMessage({ ...errorMessage, message: null });\n        }, 3000);\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        for (let i = 0; i < persons.length; i++) {\n            if (persons[i].name === newName) {\n                if (\n                    window.confirm(\n                        `${newName} is already added to phonebook, replace the old phone with a new one?`\n                    )\n                ) {\n                    service\n                        .update(persons[i].id, {\n                            name: newName,\n                            phone: newNumber,\n                        })\n                        .then((res) =>\n                            setPersons(\n                                persons.map((person) =>\n                                    person.id === persons[i].id ? res : person\n                                )\n                            )\n                        )\n                        .catch((error) => {\n                            setMessage({\n                                message: error.response.data.error,\n                                type: 'error',\n                            });\n                        });\n                    setNewName('');\n                    setNewNumber('');\n                }\n                return;\n            }\n        }\n        service\n            .create({ name: newName, phone: newNumber })\n            .then((res) => {\n                setPersons(persons.concat(res));\n                setMessage({ message: `added ${newName}`, type: 'success' });\n            })\n            .catch((error) => {\n                setMessage({\n                    message: error.response.data.error,\n                    type: 'error',\n                });\n            });\n        setNewName('');\n        setNewNumber('');\n    };\n\n    const handleDelete = (id) => {\n        service.remove(id).catch(() => {\n            setMessage({ message: 'already deleted', type: 'error' });\n        });\n        setPersons(persons.filter((person) => person.id !== id));\n    };\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification notification={errorMessage} />\n            <Filter filter={filter} setFilter={setFilter} />\n\n            <h2>add a new</h2>\n            <PersonForm\n                newName={newName}\n                newNumber={newNumber}\n                setNewName={setNewName}\n                setNewNumber={setNewNumber}\n                handleSubmit={handleSubmit}\n            />\n            <h2>Numbers</h2>\n            <Person persons={display} handleDelete={handleDelete} />\n        </div>\n    );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App.js';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}