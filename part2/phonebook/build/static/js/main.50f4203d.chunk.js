(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(15),c=n.n(r),u=n(6),a=n(3),i=n(2),o=n(0),s=function(e){var t=e.filter,n=e.setFilter;return Object(o.jsxs)("div",{children:["filter shown with:",Object(o.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]})},b=function(e){var t=e.newName,n=e.newNumber,r=e.setNewName,c=e.setNewNumber,u=e.handleSubmit;return Object(o.jsxs)("form",{onSubmit:u,children:[Object(o.jsxs)("div",{children:["name:",Object(o.jsx)("input",{value:t,onChange:function(e){return r(e.target.value)}})]}),Object(o.jsxs)("div",{children:["number:",Object(o.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.persons,n=e.handleDelete;return Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsxs)("p",{children:[e.name," ",e.number," ",Object(o.jsx)("button",{onClick:function(){return n(e.id)},children:"delete"})]},e.name)}))})},d=n(4),l=n.n(d),f="/api/persons",h=function(){return l.a.get(f).then((function(e){return e.data}))},m=function(e){return l.a.post(f,e).then((function(e){return e.data}))},O=function(e,t){return l.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return l.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},v=(n(39),function(e){var t=e.notification,n=t.message,r=t.type;return null===n?null:Object(o.jsx)("div",{className:r,children:n})}),x=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(""),d=Object(a.a)(c,2),l=d[0],f=d[1],x=Object(i.useState)(""),w=Object(a.a)(x,2),g=w[0],N=w[1],y=Object(i.useState)(""),S=Object(a.a)(y,2),k=S[0],C=S[1],D=Object(i.useState)({message:null,type:"success"}),F=Object(a.a)(D,2),E=F[0],J=F[1];Object(i.useEffect)((function(){h().then((function(e){return r(e)}))}),[]);var L=k?n.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})):n,B=function(e){var t=e.message,n=e.type;J({message:t,type:n}),setTimeout((function(){J(Object(u.a)(Object(u.a)({},E),{},{message:null}))}),1e3)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(v,{notification:E}),Object(o.jsx)(s,{filter:k,setFilter:C}),Object(o.jsx)("h2",{children:"add a new"}),Object(o.jsx)(b,{newName:l,newNumber:g,setNewName:f,setNewNumber:N,handleSubmit:function(e){e.preventDefault();for(var t=function(e){if(n[e].name===l)return window.confirm("".concat(l," is already added to phonebook, replace the old number with a new one?"))&&(O(n[e].id,{name:l,number:g}).then((function(t){return r(n.map((function(r){return r.id===n[e].id?t:r})))})),f(""),N("")),{v:void 0}},c=0;c<n.length;c++){var u=t(c);if("object"===typeof u)return u.v}m({name:l,number:g}).then((function(e){return r(n.concat(e))})),B({message:"added ".concat(l),type:"success"}),f(""),N("")}}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)(j,{persons:L,handleDelete:function(e){p(e).catch((function(){B({message:"already deleted",type:"error"})})),r(n.filter((function(t){return t.id!==e})))}})]})};c.a.render(Object(o.jsx)(x,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.50f4203d.chunk.js.map